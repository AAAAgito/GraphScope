g.timeout(600000).V().has('person','id',$personId).out('knows').union(identity(),out('knows').union(identity(),out('knows'))).as('p').path().count(local).as('b').select('p').has('id',neq($personId)).has('firstName',eq('$firstName')).as('a').order().by(select('b'),asc).dedup().order().by(select('b'),asc).by('id').by('lastName').limit(20).select('a','b').by(valueMap('id','firstName','lastName')).by()